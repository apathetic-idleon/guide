/*
// We're using HiDeoo/starlight-sidebar-topics MIT
// Source: https://github.com/HiDeoo/starlight-sidebar-topics/blob/main/packages/starlight-sidebar-topics/components/Topics.astro
// to provide the "inner workings" and markup for the topics.
// 
// With styling overrides from withastro/docs MIT
// Source: 
//   - https://github.com/withastro/docs/blob/main/src/components/starlight/Sidebar.astro
//   - https://github.com/withastro/docs/blob/main/src/components/tabs/TabbedContent.astro
//   - https://github.com/withastro/docs/blob/main/src/components/tabs/TabListItem.astro
//
// note we had to undo set added inline styling from starlight-sidebar-topics, esp li+li margin.
*/ 

/* ---------------- VARIABLES ---------------- */

.starlight-sidebar-topics {
	/* Layout variables */
	--tab-switcher-border-width: 1px;
	--tab-switcher-padding: calc(0.25rem - var(--tab-switcher-border-width));
	--tab-item-border-radius: 0.5rem;
	--tab-switcher-border-radius: calc(
		var(--tab-item-border-radius) + var(--tab-switcher-padding) + var(--tab-switcher-border-width)
	);

	/* Color variables */
	--tab-switcher-border-color: var(--sl-color-hairline-light);
	--tab-switcher-background-color: var(--sl-color-gray-7, var(--sl-color-gray-6));
	--tab-switcher-text-color: var(--sl-color-gray-3);
	--tab-switcher-text-color--active: var(--sl-color-white);
	--tab-switcher-icon-color: var(--sl-color-gray-4);
	--tab-switcher-icon-color--active: var(--sl-color-text-accent);
	--tab-item-background-color--hover: var(--sl-color-gray-6);
	--tab-item-background-color--active: var(--sl-color-black);
}

/* Dark theme variations */
[data-theme='dark'] .starlight-sidebar-topics {
	--tab-switcher-text-color: var(--sl-color-gray-2);
	--tab-switcher-icon-color: var(--sl-color-gray-3);
	--tab-item-background-color--hover: var(--sl-color-gray-5);
}

@media (min-width: 50rem) {
	/* Dark theme variations with the desktop sidebar visible */
	[data-theme='dark'] .starlight-sidebar-topics {
		--tab-switcher-background-color: var(--sl-color-black);
		--tab-item-background-color--hover: var(--sl-color-gray-6);
		--tab-item-background-color--active: var(--sl-color-gray-6);
	}
}

@media (min-width: 72em) {
	ul.starlight-sidebar-topics {
		justify-content: space-between;
		margin-top: 0;
		padding: 1px;
	}
}

/* ---------------- OVERRIDES ---------------- */

ul.starlight-sidebar-topics {
	/* specified in hideoo/Topics.astro */
	list-style: none;
	padding: var(--tab-switcher-padding);
	
	border: var(--tab-switcher-border-width) solid var(--tab-switcher-border-color);
	border-radius: var(--tab-switcher-border-radius);
	display: flex;
	flex-direction: column;		
	gap: 0.25rem;
	background-color: var(--tab-switcher-background-color);				
	margin-bottom: 0;
}

ul.starlight-sidebar-topics::after {
	/* specified in hideoo/Topics.astro */
  content: none;
  display: none;
	margin-top: 0;
}

ul.starlight-sidebar-topics li {
	/* specified in hideoo/Topics.astro */
	overflow-wrap: anywhere;
}

ul.starlight-sidebar-topics li + li {
	/* specified in hideoo/Topics.astro */
	margin-top: 0;
}

ul.starlight-sidebar-topics li a {
	/* specified in hideoo/Topics.astro */
	align-items: center;		
	color: var(--tab-switcher-text-color);
	display: flex;
	font-size: inherit;
	font-weight: 600;		
	gap: 0.5rem;
	line-height: var(--sl-line-height-headings);
	padding: calc(0.5rem - var(--tab-switcher-border-width));
	text-decoration: none;

	border: var(--tab-switcher-border-width) solid transparent;
	border-radius: var(--tab-item-border-radius);
	background-clip: padding-box;
	transition: background-color 0.2s, color 0.2s;		
}

ul.starlight-sidebar-topics a:hover {
	/* specified in hideoo/Topics.astro */
	color: var(--tab-switcher-text-color--active);

	background-color: var(--tab-item-background-color--hover);
}

ul.starlight-sidebar-topics a.starlight-sidebar-topics-current {
	/* specified in hideoo/Topics.astro */
	color: var(--tab-switcher-text-color--active);

	border-color: var(--tab-switcher-border-color);	
	background-color: var(--tab-item-background-color--active);
}

/* Icon wrapper */
ul.starlight-sidebar-topics .starlight-sidebar-topics-icon {
	/* specified in hideoo/Topics.astro */
	align-items: center;
	border: none;
	display: flex;		
	justify-content: center;
	padding: 0;
			
	margin: 0.25rem;
	color: var(--tab-switcher-icon-color);
	transition: background-color 0.2s, border-color 0.2s;
}

ul.starlight-sidebar-topics a:hover .starlight-sidebar-topics-icon {
	/* specified in hideoo/Topics.astro */
	background-color: inherit;
  border-color: inherit;
	color: inherit;
}

ul.starlight-sidebar-topics a.starlight-sidebar-topics-current .starlight-sidebar-topics-icon {
	background-color: inherit;
  border-color: inherit;
	color: var(--tab-switcher-icon-color--active);
}

ul.starlight-sidebar-topics .starlight-sidebar-topics-badge {
	/* specified in hideoo/Topics.astro */
	margin-inline-start: 0.25em;
}
